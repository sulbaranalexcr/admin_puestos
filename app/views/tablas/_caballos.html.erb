<script type="text/javascript">
    window.total_inicial_ca = Number(<%= @caballos_array.count %>) ;
    window.cantidad_total = Number(<%= @canti_p %> );
    window.cab_en_ju = Number(<%= @caballos_array.count %>) - 1;
    window.cab_en_ju_total = window.cab_en_ju +1 ;
    function minmax(value, min, max) {
        if(parseInt(value) < min || isNaN(parseInt(value)))
            return min;
        else if(parseInt(value) > max)
            return max;
        else return value;
    }
</script>

<div id="user_wrapper" class="dataTables_wrapper form-inline dt-bootstrap">
  <div class="row">
    <div class="col-sm-8 text-right">
      <table id="caballos_enter" class="table table-bordered table-striped dataTable" role="grid">
        <thead>
            <span style="background-color: chartreuse; padding: 5px; margin-right: 10px; display: inline-block;">Monto a Pagar: 
            <input type="number" value="360" id="valor_total" style="width: 30%;" readonly> </span><br><br>
          <tr>
            <th class="col-xs-1 col-sm-1 text-center" style="width: 50px">Numero</th>
            <th class="col-xs-2 col-sm-2 text-left" style="width: 150px">Nombre</th>
            <th class="col-xs-1 col-sm-1 text-center" style="width: 50px">Venta</th>
            <th class="col-xs-1 col-sm-1 text-center" style="width: 50px">Riego</th>
            <th class="col-xs-1 col-sm-1 text-center" style="width: 50px">Div.</th>
            <th class="col-xs-1 col-sm-1 text-center" style="width: 50px">Disp.</th>
            <th class="col-xs-1 col-sm-1 text-center" style="width: 50px; color:white; border-radius:6px; background-color: blue;">Valor</th>
            <th class="col-xs-1 col-sm-1 text-center" style="width: 50px; color:white; border-radius:6px; background-color: blue;">C/Tablas</th>
            <!--th class="col-xs-1 col-sm-1 text-center" style="width: 50px; color:white; border-radius:6px; background-color: red;">Cambiar</th-->
          </tr>
        </thead>

        <tbody>
          <% @caballos_array.each do |caba| %>
            <tr>
              <td class="col-sm-1 text-center"> <%= caba['numero_puesto'] %> </td>
              <td class="col-sm-2 text-left" style="width: 80px;" ><%= caba['nombre'] %> </td>
              <td class="col-sm-1"><input type="number" id="posici<%= caba['numero_puesto'] %>" style="width: 100%;background-color: gray" readonly> </td>
              <td class="col-sm-1"><input type="number" id="posici<%= caba['numero_puesto'] %>" style="width: 100%;background-color: gray" readonly> </td>
              <td class="col-sm-1"><input type="number" id="posici<%= caba['numero_puesto'] %>" style="width: 100%;background-color: gray" readonly> </td>
              <td class="col-sm-1"><input type="number" id="posici<%= caba['numero_puesto'] %>" style="width: 100%;background-color: gray" readonly> </td>
              <td class="col-sm-1"><input type="number" id="posici<%= caba['numero_puesto'] %>" style="width: 100%;"> </td>
              <td class="col-sm-1"><input type="number" id="posici<%= caba['numero_puesto'] %>" style="width: 100%;"> </td>
              <!--td class="col-sm-1"><input type="number" id="posici<%= caba['numero_puesto'] %>" style="width: 100%;"> </td-->
            </tr>
          <% end %>
        </tbody>
      </table>
    
      <div class="box-footer">
          <input type="button" value="Bloquear Tablas" class="btn btn-danger"/>
          <input type="button" value="Cargar Tablas" class="btn btn-success"/>
      </div>
    </div>
  </div>


</div>

<script>
// $(':checkbox').checkboxpicker();
$(':checkbox').checkboxpicker({
  html: true,
  offLabel: "SI",
  onLabel: "NO"
});

 function aplicar_api(){
   $('.sugeridos_nyra').each(function( index ) {
     id_bus = $( this ).data("id2") ;
     id_puesto = $( this ).data("puesto") ;
     valor_bus = $( this ).val() ;
     $("#posici"+id_puesto).val(valor_bus);
   });
 }

 function aplicar_retiro(){
   retirados = "<%= @retirados_nyra%>".split('-') ;
   retirados.forEach(function (element ){
    $('#checab' + element).prop('checked', false);
   });

 }
</script>
